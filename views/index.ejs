<% if (authorized && rateLimit) { %>
  <div class="rate-limit-info">
    <p><strong>API Rate Limit Status:</strong></p>
    <ul>
      <li>Limit: <%= rateLimit.limit ?? 'Unknown' %></li>
      <li>Remaining: <%= rateLimit.remaining ?? 'Unknown' %></li>
      <li>Resets in: <%= (rateLimit.secondsUntilReset != null) ? (Math.max(0, rateLimit.secondsUntilReset) + 's') : 'Unknown' %></li>
    </ul>

    <% if (typeof rateLimit.remaining === 'number') { %>
      <% if (rateLimit.remaining <= 50) { %>
        <p class="warning">⚠️ Low remaining requests – use sparingly or wait for reset!</p>
      <% } else if (rateLimit.remaining <= 200) { %>
        <p class="caution">Caution: Getting low – consider waiting if planning large fetches.</p>
      <% } %>
    <% } %>
  </div>
<% } %>
